(function(l,h,o,p,s,f,g){"use strict";function E(){return g.useProxy(s.storage),React.createElement(f.ErrorBoundary,null,React.createElement(o.ReactNative.ScrollView,null,React.createElement(f.Forms.FormSwitchRow,{label:"Hide Server Boosts shortcut",subLabel:"Removes the Server Boosts row above channels",onValueChange:function(e){return s.storage.hideServerBoosts=e},value:s.storage.hideServerBoosts}),React.createElement(f.Forms.FormSwitchRow,{label:"Hide Events shortcut",subLabel:"Also hide the Events row when present",onValueChange:function(e){return s.storage.hideEvents=e},value:s.storage.hideEvents})))}const d=[],b=["title","label","name","text","accessibilityLabel","contentDescription","route","path","url","href","id","key","testID","type"],y=["children","items","sections","data","rows","entries","trailingItems","leadingItems","header","footer"],S=["SERVER_BOOSTS","premium/subscriptions","server-boost","guild-events"],m=["ChannelList","channel list","GuildChannel","/channels/"],a=function(e){return e.replace(/\s+/g," ").trim().toLowerCase()},R=function(e){const t=a(e);if(!t)return!1;const n=typeof o.i18n?.Messages?.SERVER_BOOSTS=="string"?a(o.i18n.Messages.SERVER_BOOSTS):null;return t===n||t.startsWith(`${n??"server boosts"} `)||t==="server boosts"||t.startsWith("server boosts ")||t.includes("premium/subscriptions")||t.includes("server-boost")||t.includes("guildboost")},w=function(e){const t=a(e);return t?[o.i18n?.Messages?.EVENTS,o.i18n?.Messages?.GUILD_EVENTS,o.i18n?.Messages?.GUILD_EVENT_UPSELL_TITLE].filter(function(n){return typeof n=="string"}).map(a).includes(t)||t==="events"||t.startsWith("events ")||t.includes("/events")||t.includes("guild-events"):!1};function B(e){const t=[],n=function(r){if(!(!r||typeof r!="object")){for(const i of b){const c=r[i];typeof c=="string"&&t.push(c)}typeof r.children=="string"&&t.push(r.children)}};return n(e),n(e?.props),n(e?.item),t}function L(e){if(!s.storage.hideServerBoosts&&!s.storage.hideEvents||!e||typeof e!="object")return!1;const t=B(e);if(!t.length)return!1;const n=s.storage.hideServerBoosts&&t.some(R),r=s.storage.hideEvents&&t.some(w);return n||r}function u(e,t=new WeakSet){if(e==null)return e;if(Array.isArray(e)){const n=e.map(function(r){return u(r,t)}).filter(function(r){return r!=null});return e.length=0,e.push(...n),e}if(typeof e!="object"||t.has(e))return e;if(t.add(e),L(e))return null;for(const n of y){if(!(n in e))continue;const r=e[n],i=u(r,t);i==null?Array.isArray(r)?e[n]=[]:delete e[n]:e[n]=i}if(e.props&&typeof e.props=="object"&&"children"in e.props){const n=u(e.props.children,t);n==null?delete e.props.children:e.props.children=n}return e}function v(e,t){let n="";try{n=String(e)}catch{return!1}return t.some(function(r){return n.includes(r)})}function _(){const e=new Set,t=h.findAll(function(r){return r&&typeof r=="object"&&typeof r.default=="function"&&v(r.default,S)}),n=t.length?t:h.findAll(function(r){return r&&typeof r=="object"&&typeof r.default=="function"&&v(r.default,m)}).slice(0,40);for(const r of n)if(!e.has(r)){e.add(r);try{d.push(p.after("default",r,function(i,c){return u(c)}))}catch{}}}var T={onLoad(){s.storage.hideServerBoosts??=!0,s.storage.hideEvents??=!1,_()},onUnload(){for(;d.length;)try{d.pop()?.()}catch{}},settings:E};return l.default=T,Object.defineProperty(l,"__esModule",{value:!0}),l})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.plugin,vendetta.ui.components,vendetta.storage);
