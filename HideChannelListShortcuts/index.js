(function(d,p,i,v,s,h,m){"use strict";function R(){return m.useProxy(s.storage),React.createElement(h.ErrorBoundary,null,React.createElement(i.ReactNative.ScrollView,null,React.createElement(h.Forms.FormSwitchRow,{label:"Hide Server Boosts shortcut",subLabel:"Removes the Server Boosts row above channels",onValueChange:function(e){return s.storage.hideServerBoosts=e},value:s.storage.hideServerBoosts}),React.createElement(h.Forms.FormSwitchRow,{label:"Hide Events shortcut",subLabel:"Also hide the Events row when present",onValueChange:function(e){return s.storage.hideEvents=e},value:s.storage.hideEvents})))}const c=[],y=["title","label","name","text","accessibilityLabel","contentDescription","route","path","url","href","id","key","testID","type"],w=["children","items","sections","data","rows","entries","trailingItems","leadingItems","header","footer"],L=["SERVER_BOOSTS","premium/subscriptions","server-boost","guild-events"],B=["ChannelList","channel list","GuildChannel","/channels/"],a=function(e){return e.replace(/\s+/g," ").trim().toLowerCase()},g=function(e){const t=a(e);if(!t)return!1;const r=typeof i.i18n?.Messages?.SERVER_BOOSTS=="string"?a(i.i18n.Messages.SERVER_BOOSTS):null;return t===r||t.startsWith(`${r??"server boosts"} `)||t==="server boosts"||t.startsWith("server boosts ")||t.includes("premium/subscriptions")||t.includes("server-boost")||t.includes("guildboost")},b=function(e){const t=a(e);return t?[i.i18n?.Messages?.EVENTS,i.i18n?.Messages?.GUILD_EVENTS,i.i18n?.Messages?.GUILD_EVENT_UPSELL_TITLE].filter(function(r){return typeof r=="string"}).map(a).includes(t)||t==="events"||t.startsWith("events ")||t.includes("/events")||t.includes("guild-events"):!1};function l(e,t=[],r=0){if(e==null||r>5)return t;if(typeof e=="string")return t.push(e),t;if(Array.isArray(e)){for(const n of e)l(n,t,r+1);return t}if(typeof e=="object"){for(const n of y){const o=e[n];typeof o=="string"&&t.push(o)}"children"in e&&l(e.children,t,r+1),"props"in e&&l(e.props,t,r+1)}return t}function E(e,t){return l(e).some(function(r){return t(r)})}function A(e,t){if(!t||typeof t!="object")return!1;if(typeof t.onPress=="function"||typeof t.onLongPress=="function"||typeof t.onPressIn=="function")return!0;const r=String(typeof e=="string"?e:e?.displayName??e?.name??"").toLowerCase();return r.includes("pressable")||r.includes("touchable")||r.includes("row")||r.includes("cell")}function _(e){const t=[],r=function(n){if(!(!n||typeof n!="object")){for(const o of y){const u=n[o];typeof u=="string"&&t.push(u)}typeof n.children=="string"&&t.push(n.children)}};return r(e),r(e?.props),r(e?.item),t}function j(e){if(!s.storage.hideServerBoosts&&!s.storage.hideEvents||!e||typeof e!="object")return!1;const t=_(e);if(!t.length)return!1;const r=s.storage.hideServerBoosts&&t.some(g),n=s.storage.hideEvents&&t.some(b);return r||n}function f(e,t=new WeakSet){if(e==null)return e;if(Array.isArray(e)){const r=e.map(function(n){return f(n,t)}).filter(function(n){return n!=null});return e.length=0,e.push(...r),e}if(typeof e!="object"||t.has(e))return e;if(t.add(e),j(e))return null;for(const r of w){if(!(r in e))continue;const n=e[r],o=f(n,t);o==null?Array.isArray(n)?e[r]=[]:delete e[r]:e[r]=o}if(e.props&&typeof e.props=="object"&&"children"in e.props){const r=f(e.props.children,t);r==null?delete e.props.children:e.props.children=r}return e}function S(e,t){let r="";try{r=String(e)}catch{return!1}return t.some(function(n){return r.includes(n)})}function T(){const e=new Set,t=p.findAll(function(n){return n&&typeof n=="object"&&typeof n.default=="function"&&S(n.default,L)}),r=t.length?t:p.findAll(function(n){return n&&typeof n=="object"&&typeof n.default=="function"&&S(n.default,B)}).slice(0,40);for(const n of r)if(!e.has(n)){e.add(n);try{c.push(v.after("default",n,function(o,u){return f(u)}))}catch{}}}function V(){i.React?.createElement&&c.push(v.instead("createElement",i.React,function(e,t){const[r,n]=e;if(!n||!A(r,n))return t(...e);const o=s.storage.hideServerBoosts&&E(n,g),u=s.storage.hideEvents&&E(n,b);return o||u?null:t(...e)}))}var O={onLoad(){s.storage.hideServerBoosts??=!0,s.storage.hideEvents??=!1,T(),V()},onUnload(){for(;c.length;)try{c.pop()?.()}catch{}},settings:R};return d.default=O,Object.defineProperty(d,"__esModule",{value:!0}),d})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.plugin,vendetta.ui.components,vendetta.storage);
